<script src="socket.io.js"></script>
<h1>CHAT</h1>
<form id="chat">
    <input type="text" id="input" required autofocus autocomplete="off">
</form>
<ul id="messages"></ul>
<script>
    var socket = io.connect("http://localhost:3000");
    const form = document.getElementById('chat');
    const messages = document.getElementById('messages');
    form.addEventListener('submit', e => {
        e.preventDefault();
        console.log(input.value)
        socket.emit('chat', input.value);
        input.value = '';
    });
    function printMessage(msg) {
        console.log("MSG",msg)
        const li = document.createElement('li');
        li.innerHTML = msg;
        messages.appendChild(li);
        console.log(socket);
    }
    socket.on('chat', msg => printMessage(msg));
</script>